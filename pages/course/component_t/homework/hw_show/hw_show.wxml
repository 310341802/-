<view class="head">
  <view>
    <text>标题：</text><input type='text' value="{{name}}" bindblur='changeName'></input>
  </view>
</view>
<view class="block" wx:for="{{testList}}" wx:for-index="index">
  <view class="row" >
    <view class="title">{{index+1}}. {{type[item.question_type]}}</view>
    <view class="block-con">
      <view class="desc">{{item.question_desc}}</view>
      <view class="cho" wx:if="{{item.question_type!=2}}">
        <text wx:for="{{item.choice}}" wx:for-index="idx" >
          {{ans_id[idx]}} {{item}}
        </text>
      </view>
      <view class="ans" wx:if="{{item.question_type!=2}}">
        <text>答案：{{item.answer[0]}}</text>    
      </view>
      <view class="ans"  wx:if="{{testList[index].question_type==2}}" wx:for="{{item.answer}}" wx:for-index="idx1">
        <text >{{blank_id[idx1]}}：{{item}}</text>
      </view>
    </view>
    <view class="edit">
      <view catchtap='edititem' data-set="{{index}}">编辑</view>
      <view catchtap='delitem' data-set="{{index}}">删除</view>
    </view>
  </view>
</view>
<button class="create" catchtap='createQuestion'>创建下一题</button>
<button class="save" catchtap="saveQuestion">保存临时修改</button>
<view class="footer">
  <button catchtap='showDialogBtn'>确认发布</button>
</view>

<!--弹窗-->
<form bindsubmit="GetName">
  <view class="modal-mask" bindtap="hideModal" catchtouchmove="preventTouchMove" wx:if="{{showModal}}"></view>
  <view class="modal-dialog" wx:if="{{showModal}}">
    <view class="modal-title">请设置截止时间</view>
    <view class="modal-content">
      <view class="modal-input">
         <picker mode="date" value="{{date}}" start="{{start_date}}" end="2030-12-01" bindchange="bindDateChange" class="input" name="date"
  >
    <view class="picker">当前选择: {{date}}</view>
     
  </picker>
       
      </view>
    </view>
    <view class="modal-footer">
      <button class="btn-cancel" bindtap="onCancel" data-status="cancel">取消</button>
      <button class="btn-confirm" data-status="confirm" form-type='submit'>确定</button>
    </view>
  </view>
</form>